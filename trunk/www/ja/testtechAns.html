<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="ja" lang="ja">
<!-- don't edit start -->
<head>
<title>Seasar - DI Container with AOP -</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta http-equiv="Content-Style-Type" content="text/css" />
<link href="seasar_b.css" type="text/css" rel="stylesheet" media="screen" />
<link href="seasar_p.css" type="text/css" rel="stylesheet" media="print" />
<script src="seasar_b.js" type="text/JavaScript" language="JavaScript">
</script>
</head>
<body onload="preload('ja')">
<table width="100%" border="0" cellspacing="0" cellpadding="0" align="left">
<tr>
<td align="left" valign="top" width="780">
<table width="780" border="0" cellspacing="0" cellpadding="0" class="white">
<tr>
<td colspan="7"><img height="5" width="780" src="images/top01_b.gif" alt="" /></td>
</tr>
<tr>
<td><img height="117" width="235" src="images/top02_b.gif" alt="Seasar" /></td>
<td colspan="3"><img height="117" width="289" src="images/top03.gif" alt="DI Container with AOP" /></td>
<td colspan="3"><img height="117" width="256" src="images/spacer.gif" alt="" /></td>
</tr>
<tr>
<td rowspan="2"><img src="images/top04.gif" alt="" height="49" width="235" /></td>
<td><a href="http://www.seasar.org/index.html"><img src="images/menu01_b_ja.gif" height="30" width="78" border="0" alt="" id="menu01" onmouseover="swap(1)" onmouseout="restore(1)" name="menu01" /></a></td>
<td><a href="http://www.seasar.org/projects.html"><img src="images/menu02_b_ja.gif" height="30" width="101" border="0" alt="" id="menu02" onmouseover="swap(2)" onmouseout="restore(2)" name="menu02" /></a></td>
<td><a href="http://www.seasar.org/products.html"><img src="images/menu03_b_ja.gif" height="30" width="110" border="0" alt="" id="menu03" onmouseover="swap(3)" onmouseout="restore(3)" name="menu03" /></a></td>
<td><a href="http://www.seasar.org/resources.html"><img src="images/menu04_b_ja.gif" height="30" width="113" border="0" alt="" id="menu04" onmouseover="swap(4)" onmouseout="restore(4)" name="menu04" /></a></td>
<td><img src="images/menu05_b_ja.gif" height="30" width="109" border="0" alt="" id="menu05" onmouseover="swap(5)" onmouseout="restore(5)" name="menu05" /></td>
<td><img height="30" width="34" src="images/menu06.gif" alt="" /></td>
</tr>
<tr>
<td colspan="6"><img height="19" width="545" src="images/spacer.gif" alt="" /></td>
</tr>
</table>
<table width="780" border="0" cellspacing="0" cellpadding="0" class="white">
<tr align="left" valign="top">
<td width="14"><img height="14" width="14" src="images/spacer.gif" alt="" /></td>
<td width="740" class="main"><!-- don't edit end -->
<!-- document start -->
<ul>
<li><a href="#MockCreate_Ans">モックを作成するための設定に関する問題の解説</a></li>
<li><a href="#MockUsed_Ans">モックの使用方法に関する問題の解説</a></li>
<li><a href="#S2UnitCreate_Ans">S2Unitの作成方法に関する問題の解説</a></li>
<li><a href="#AutoS2Container_Ans">S2Containerの自動生成に関する問題の解説</a></li>
<li><a href="#S2Methods_Ans">S2Containerに対するregister(),getComponent(),include()に関する問題の解説</a></li>
<li><a href="#S2include_Ans">include時のPATHの省略に関する問題の解説</a></li>
<li><a href="#S2SetValue_Ans">変数の自動セットに関する問題の解説</a></li>
<li><a href="#S2UnitFunction_Ans">setUpXxx(),tearDownXxx()メソッドに関する問題の解説</a></li>
<li><a href="#S2UnitFunction2_Ans">トランザクション制御に関する問題の解説</a></li>
<li><a href="#S2UnitFunction3_Ans">readXls()メソッドに関する問題の解説</a></li>
<li><a href="#S2UnitFunction4_Ans">assertEquals()メソッドに関する問題の解説</a></li>
<li><a href="#S2UnitFunction5_Ans">reload()メソッドに関する問題の解説</a></li>
<li><a href="#S2UnitFunction6_Ans">readXlsWriteDb(),readXlsAllReplaceDb()メソッドに関する問題の解説</a></li>
<li><a href="#S2ExcelMake">Excelファイルの作成に関する問題の解説</a></li>
<li><a href="#S2DaoTestCase">S2DaoTestCaseに関する問題の解説</a></li>
</ul>
<h2><a name="testtechAns" id="testtechAns">テスト技法Exerciseの解説</a></h2>
<h2><a name="MockCreate_Ans" id="MockCreate_Ans">モックを作成するための設定に関する問題の解説</a></h2>
<h3><a name="Mock" id="Mock">問題1</a></h3>
<p><b>【解説】</b><br />
インターフェースのモックを設定するには、org.seasar.framework.aop.interceptors.MockInterceptorを使用します。</p>
1はトレース処理をCrosscutting Concernとして扱うためのInterceptorなので間違いです。<br />
3は例外処理をCrosscutting concernとして扱うためのInterceptorなので間違いです。<br />
4はメソッド呼び出しを別のコンポーネントに委譲するためのInterceptorなので間違いです。
<table border="0" cellspacing="3" cellpadding="3">
<tr>
<td><b><a href="testtechExercise.html#Mock">&lt;&lt; 問題へ戻る</a></b></td>
</tr>
<tr>
<td><b><a href="testtechExercise.html#Mock2">次の問題へ&gt;&gt;</a></b></td>
</tr>
</table>
<br />
<h3><a name="Mock2" id="Mock2">問題2</a></h3>
<p><b>【解説】</b><br />
インターフェースのメソッドに戻り値をセットする場合、MockInterceptorの以下のメソッドを使用します。<br />
第1引数でインターフェースのメソッド名を指定します。<br />
第2引数で第1引数で指定したメソッドの返す値を指定します。<br />
<br /></p>
<p>- public void setReturnValue(String methodName, Object returnValue)</p>
以下のメソッドを指定すると、どのメソッドが呼ばれても同じ値を返します。<br />
通常、１つのメソッドしか呼び出さないことが分かっている場合に使用します。<br />
第1引数で返す値を指定します。<br />
<br />
<p>- public void setReturnValue(Object returnValue)</p>
1はMockInterceptorにsetMock()メソッドはないので間違いです。<br />
2はisInvoked()メソッドはインターフェースのメソッドが呼ばれたかどうかチェックするメソッドなので間違いです。<br />
3はgetArgs()メソッドはインターフェースのメソッドの引数の値を取得するメソッドなので間違いです。
<table border="0" cellspacing="3" cellpadding="3">
<tr>
<td><b><a href="testtechExercise.html#Mock2">&lt;&lt; 問題へ戻る</a></b></td>
</tr>
<tr>
<td><b><a href="testtechExercise.html#Mock3">次の問題へ&gt;&gt;</a></b></td>
</tr>
</table>
<br />
<h3><a name="Mock3" id="Mock3">問題3</a></h3>
<p><b>【解説】</b><br />
isInvoked()はインターフェースのメソッドが呼ばれたかどうかを判定するメソッドです。</p>
1,2,4.のような判定メソッドはありません。<br />
<table border="0" cellspacing="3" cellpadding="3">
<tr>
<td><b><a href="testtechExercise.html#Mock3">&lt;&lt; 問題へ戻る</a></b></td>
</tr>
<tr>
<td><b><a href="testtechExercise.html#MockUsed">次の問題へ&gt;&gt;</a></b></td>
</tr>
</table>
<br />
<h2><a name="MockUsed_Ans" id="MockUsed_Ans">モックの使用方法に関する問題の解説</a></h2>
<h3><a name="Use" id="Use">問題1</a></h3>
<p><b>【解説】</b><br />
インターフェースのモックを作成するには、インターフェースに対して設定した MockInterceptorをアスペクトして使用します。<br />
<br />
2はコンポーネントの構成に必要な値を設定することなので間違いです。<br />
3はDAOとJavaBeansとの関連付けを行うことなので間違いです。<br />
4は継承してもモックは作成されないので間違いです。</p>
<table border="0" cellspacing="3" cellpadding="3">
<tr>
<td><b><a href="testtechExercise.html#Use">&lt;&lt; 問題へ戻る</a></b></td>
</tr>
<tr>
<td><b><a href="testtechExercise.html#Use2">次の問題へ&gt;&gt;</a></b></td>
</tr>
</table>
<br />
<h3><a name="Use2" id="Use2">問題2</a></h3>
<p><b>【解説】</b><br />
特定のメソッドに対して戻り値を指定する場合、setReturnValue(String methodName, Object returnValue)を使用します。<br />
diconファイルでは、initMethodタグのname属性にsetReturnValueを指定して1つ目のargタグでメソッド名、2つ目のargタグで<br />
戻り値を指定します。<br />
<br />
1は1つ目のargタグで引数まで記述してあるので間違いです。<br />
3は2つ目のargタグで戻り値を指定してないので間違いです。この設定だと、setReturnValue(Object returnValue)を使用することになり、<br />
つねに戻り値は文字列"showMessage"が返されます<br />
4は1つ目のargタグに戻り値、2つ目のargタグでメソッド名を指定しているので間違いです。</p>
<table border="0" cellspacing="3" cellpadding="3">
<tr>
<td><b><a href="testtechExercise.html#Use2">&lt;&lt; 問題へ戻る</a></b></td>
</tr>
<tr>
<td><b><a href="testtechExercise.html#Use3">次の問題へ&gt;&gt;</a></b></td>
</tr>
</table>
<br />
<h3><a name="Use3" id="Use3">問題3</a></h3>
<p><b>【解説】</b><br />
インターフェースのメソッドの引数の値を取得したい場合は以下のメソッドを使用します。<br />
戻り値は呼び出されたメソッドの引数の値をObject[]として返すため、第1引数を取得したい場合は配列[0]を指定します。</p>
- public Object[] getArgs(String methodName)<br />
<br />
1はObjectの配列を指定していないので間違いです。<br />
2は引数にクラス名を指定しているので間違いです。<br />
3はgetReturnValue()メソッドはないので間違いです。
<table border="0" cellspacing="3" cellpadding="3">
<tr>
<td><b><a href="testtechExercise.html#Use3">&lt;&lt; 問題へ戻る</a></b></td>
</tr>
<tr>
<td><b><a href="testtechExercise.html#S2UnitCreate">次の問題へ&gt;&gt;</a></b></td>
</tr>
</table>
<br />
<h2><a name="S2UnitCreate_Ans" id="S2UnitCreate_Ans">S2Unitの作成方法に関する問題の解説</a></h2>
<h3><a name="Unit" id="Unit">問題1</a></h3>
<p><b>【解説】</b><br />
テストクラスを作成する場合、org.seasar.extension.unit.S2TestCaseを継承して作成します。<br />
<br />
1.はJUnitを使用する場合に継承するクラスなので間違いです。<br />
2.はS2UnitTestCaseは存在しないので間違いです。<br />
3.はパッケージ名が違うので間違いです。</p>
<table border="0" cellspacing="3" cellpadding="3">
<tr>
<td><b><a href="testtechExercise.html#Unit">&lt;&lt; 問題へ戻る</a></b></td>
</tr>
<tr>
<td><b><a href="testtechExercise.html#AutoS2Container">次の問題へ&gt;&gt;</a></b></td>
</tr>
</table>
<br />
<h2><a name="AutoS2Container_Ans" id="AutoS2Container_Ans">S2Containerの自動生成に関する問題の解説</a></h2>
<h3><a name="Auto" id="Auto">問題1</a></h3>
<p><b>【解説】</b><br />
S2Containerは、テストメソッド(testXxx)ごとに生成されます。<br />
<br />
2,3,4.では、自動的にS2Containerは生成されないので間違いです。<br /></p>
<table border="0" cellspacing="3" cellpadding="3">
<tr>
<td><b><a href="testtechExercise.html#Auto">&lt;&lt; 問題へ戻る</a></b></td>
</tr>
<tr>
<td><b><a href="testtechExercise.html#S2Methods">次の問題へ&gt;&gt;</a></b></td>
</tr>
</table>
<br />
<h2><a name="S2Methods_Ans" id="S2Methods_Ans">S2Containerに対するregister(),getComponent(),include()に関する問題の解説</a></h2>
<h3><a name="Methods" id="Methods">問題1</a></h3>
<p><b>【解説】</b><br />
S2Unitでは、初期化(init)や終了処理(destroy)は内部で自動的に行われるため、destroy()は用意されていません。<br />
<br />
1はオブジェクトやクラスなどをコンポーネント定義として登録するメソッドなので間違いです。<br />
2はコンポーネントを取得するメソッドなので間違いです。<br />
4はdiconファイルをインクルードするメソッドなので間違いです。</p>
<table border="0" cellspacing="3" cellpadding="3">
<tr>
<td><b><a href="testtechExercise.html#Methods">&lt;&lt; 問題へ戻る</a></b></td>
</tr>
<tr>
<td><b><a href="testtechExercise.html#S2include">次の問題へ&gt;&gt;</a></b></td>
</tr>
</table>
<br />
<h2><a name="S2include_Ans" id="S2include_Ans">include時のPATHの省略に関する問題の解説</a></h2>
<h3><a name="Include" id="Include">問題1</a></h3>
<p><b>【解説】</b><br />
include()を使用することでdiconファイルを読み込み、自身のコンテナに子供のコンテナとして登録します。</p>
1はS2Unitには存在しないメソッドなので間違いです。<br />
2はオブジェクトやクラスなどをコンポーネント定義として登録するメソッドなので間違いです。<br />
4はS2Containerを作成するメソッドなので間違いです。
<table border="0" cellspacing="3" cellpadding="3">
<tr>
<td><b><a href="testtechExercise.html#Include">&lt;&lt; 問題へ戻る</a></b></td>
</tr>
<tr>
<td><b><a href="testtechExercise.html#Include2">次の問題へ&gt;&gt;</a></b></td>
</tr>
</table>
<br />
<h3><a name="Include2" id="Include2">問題2</a></h3>
<p><b>【解説】</b><br />
include()するPATHがテストクラスと同じパッケージにある場合は、パッケージ部分のパスは省略できます。</p>
1はファイルパスがaaa/hoge.diconになるので間違いです。<br />
2は拡張子がついていないので間違いです。<br />
3はファイルパスをコンマ(.)で区切ることはできないので間違いです。
<table border="0" cellspacing="3" cellpadding="3">
<tr>
<td><b><a href="testtechExercise.html#Include2">&lt;&lt; 問題へ戻る</a></b></td>
</tr>
<tr>
<td><b><a href="testtechExercise.html#S2SetValue">次の問題へ&gt;&gt;</a></b></td>
</tr>
</table>
<br />
<h2><a name="S2SetValue_Ans" id="S2SetValue_Ans">変数の自動セットに関する問題の解説</a></h2>
<h3><a name="Value" id="Value">問題1</a></h3>
<p><b>【解説】</b><br />
定義したコンポーネントの名前がテストクラスのフィールド名と一致しない場合、 コンポーネントのclass属性で指定したクラスのフィールドにセットします。</p>
1,2,4はclass属性で判断され、自動的に変数に"Hello"がセットされます。<br />
<br />
<table border="0" cellspacing="3" cellpadding="3">
<tr>
<td><b><a href="testtechExercise.html#Value">&lt;&lt; 問題へ戻る</a></b></td>
</tr>
<tr>
<td><b><a href="testtechExercise.html#Value2">次の問題へ&gt;&gt;</a></b></td>
</tr>
</table>
<h3><a name="Value2" id="Value2">問題2</a></h3>
<p><b>【解説】</b><br />
テストクラスにstaticでなくfinalでもないフィールドが存在し、その名前からアンダースコア(_)を除いた名前のコンポーネントが<br />
コンテナに存在すれば自動的にセットされます。<br />
コンテナに自動セットさせたいコンポーネントが一つしかない場合は、変数名の規則はありません。<br />
<br />
1は大文字と小文字の区別はされるので間違いです。<br />
3は変数を初期化していると自動セットされないので間違いです。<br />
4はstaticでなくfinalでもないフィールドではないといけないので間違いです。</p>
<table border="0" cellspacing="3" cellpadding="3">
<tr>
<td><b><a href="testtechExercise.html#Value2">&lt;&lt; 問題へ戻る</a></b></td>
</tr>
<tr>
<td><b><a href="testtechExercise.html#S2UnitFunction">次の問題へ&gt;&gt;</a></b></td>
</tr>
</table>
<br />
<h2><a name="S2UnitFunction_Ans" id="S2UnitFunction_Ans">setUpXxx(),tearDownXxx()メソッドに関する問題の解説</a></h2>
<h3><a name="SetUp" id="SetUp">問題1</a></h3>
<p><b>【解説】</b><br />
テストメソッド(testXxx)に対応するsetUpXxx()を定義しておくと、setUp()の後に自動的に呼び出されます。<br />
個別のテストメソッドごとの初期化を簡単に行えるようになります。</p>
1,2はそのようなメソッドは定義されていないので間違いです。<br />
4は"up"が"Up"でなければならないので間違いです。
<table border="0" cellspacing="3" cellpadding="3">
<tr>
<td><b><a href="testtechExercise.html#SetUp">&lt;&lt; 問題へ戻る</a></b></td>
</tr>
<tr>
<td><b><a href="testtechExercise.html#SetUp2">次の問題へ&gt;&gt;</a></b></td>
</tr>
</table>
<br />
<h3><a name="SetUp2" id="SetUp2">問題2</a></h3>
<p><b>【解説】</b><br />
テストメソッド(testXxx)に対応するsetUpXxx()を定義しておくと、setUp()の後に自動的に呼び出されます。<br />
個別のテストメソッドごとの初期化を簡単に行えるようになります。</p>
2はpublicでなければならないので間違いです。<br />
3は"Test"がメソッド名に含まれてしまっているので間違いです。<br />
4は"hello"は"Hello"でなければならないので間違いです。<br />
<table border="0" cellspacing="3" cellpadding="3">
<tr>
<td><b><a href="testtechExercise.html#SetUp2">&lt;&lt; 問題へ戻る</a></b></td>
</tr>
<tr>
<td><b><a href="testtechExercise.html#tearDown">次の問題へ&gt;&gt;</a></b></td>
</tr>
</table>
<br />
<h3><a name="tearDown" id="tearDown">問題3</a></h3>
<p><b>【解説】</b><br />
テストメソッド(testXxx)に対応するtearDownXxx()を定義しておくと、tearDown()の前に自動的に呼び出されます。<br />
個別のテストメソッドごとの終了処理を簡単に行えるようになります。</p>
1,2はそのようなメソッドは定義されていないので間違いです。<br />
4は"down"が"Down"でなければならないので間違いです。<br />
<table border="0" cellspacing="3" cellpadding="3">
<tr>
<td><b><a href="testtechExercise.html#tearDown">&lt;&lt; 問題へ戻る</a></b></td>
</tr>
<tr>
<td><b><a href="testtechExercise.html#tearDown2">次の問題へ&gt;&gt;</a></b></td>
</tr>
</table>
<br />
<h3><a name="tearDown2" id="tearDown2">問題4</a></h3>
<p><b>【解説】</b><br />
tearDownXxx()は、tearDown()の直前に実行されます。</p>
<table border="0" cellspacing="3" cellpadding="3">
<tr>
<td><b><a href="testtechExercise.html#tearDown2">&lt;&lt; 問題へ戻る</a></b></td>
</tr>
<tr>
<td><b><a href="testtechExercise.html#S2UnitFunction2">次の問題へ&gt;&gt;</a></b></td>
</tr>
</table>
<br />
<h2><a name="S2UnitFunction2_Ans" id="S2UnitFunction2_Ans">トランザクション制御に関する問題の解説</a></h2>
<h3><a name="tx" id="tx">問題1</a></h3>
<p><b>【解説】</b><br />
include("j2ee.dicon")をしておき、テストメソッド名の最後にTxをつける(testXxxTx)ことにより、 テストメソッドの直前にトランザクションを<br />
開始し、テストメソッドの直後にトランザクションをロールバックするようになります。</p>
2は"TX"が"Tx"でなければならないので間違いです。<br />
3,4は"Tx"はメソッド名の最後につくので間違いです。<br />
<table border="0" cellspacing="3" cellpadding="3">
<tr>
<td><b><a href="testtechExercise.html#tx">&lt;&lt; 問題へ戻る</a></b></td>
</tr>
<tr>
<td><b><a href="testtechExercise.html#S2UnitFunction3">次の問題へ&gt;&gt;</a></b></td>
</tr>
</table>
<br />
<h2><a name="S2UnitFunction3_Ans" id="S2UnitFunction3_Ans">readXls()メソッドに関する問題の解説</a></h2>
<h3><a name="readXls" id="readXls">問題1</a></h3>
<p><b>【解説】</b><br />
検証用のExcelデータを読み込む場合は、以下のメソッドを使用します。</p>
- public DataSet readXls(String path)<br />
<br />
2はDBからレコードを読み込み、DataTableを作成するメソッドなので間違いです。<br />
3はDBからSQL文の実行結果を取得し、DataTableを作成するメソッドなので間違いです。<br />
4はS2TestCaseに存在しないメソッドなので間違いです。<br />
<table border="0" cellspacing="3" cellpadding="3">
<tr>
<td><b><a href="testtechExercise.html#readXls">&lt;&lt; 問題へ戻る</a></b></td>
</tr>
<tr>
<td><b><a href="testtechExercise.html#readXls2">次の問題へ&gt;&gt;</a></b></td>
</tr>
</table>
<br />
<h3><a name="readXls2" id="readXls2">問題2</a></h3>
<p><b>【解説】</b><br />
パス指定をする場合、必ず拡張子を付ける必要があります。</p>
1はExcelデータとテストクラスが同一パス上に存在する場合は、パスを省略することが可能です。<br />
2はパス名を省略することが可能ですが、フルパスで指定しても正しく読み込みます。<br />
3は相対パスで指定しても正しく読み込みます。<br />
<table border="0" cellspacing="3" cellpadding="3">
<tr>
<td><b><a href="testtechExercise.html#readXls2">&lt;&lt; 問題へ戻る</a></b></td>
</tr>
<tr>
<td><b><a href="testtechExercise.html#S2UnitFunction4">次の問題へ&gt;&gt;</a></b></td>
</tr>
</table>
<br />
<h2><a name="S2UnitFunction4_Ans" id="S2UnitFunction4_Ans">assertEquals()メソッドに関する問題の解説</a></h2>
<h3><a name="assert" id="assert">問題1</a></h3>
<p><b>【解説】</b><br />
assertEquals()で予想されるDataSetの結果に対して、Map、MapのList、Bean、BeanのListと比較することができます。</p>
<table border="0" cellspacing="3" cellpadding="3">
<tr>
<td><b><a href="testtechExercise.html#assert">&lt;&lt; 問題へ戻る</a></b></td>
</tr>
<tr>
<td><b><a href="testtechExercise.html#dao">次の問題へ&gt;&gt;</a></b></td>
</tr>
</table>
<br />
<h3><a name="dao" id="dao">問題2</a></h3>
<p><b>【解説】</b><br />
DataSetとListを比較する場合、以下のメソッドを使用します。</p>
- public void assertEquals(DataSet expected, Object actual)<br />
または<br />
- public void assertEquals(String message, DataSet expected, Object actual)<br />
<br />
1,2,4そのようなメソッドは定義されていないので間違いです。<br />
<br />
<table border="0" cellspacing="3" cellpadding="3">
<tr>
<td><b><a href="testtechExercise.html#dao">&lt;&lt; 問題へ戻る</a></b></td>
</tr>
<tr>
<td><b><a href="testtechExercise.html#S2UnitFunction5">次の問題へ&gt;&gt;</a></b></td>
</tr>
</table>
<br />
<h2><a name="S2UnitFunction5_Ans" id="S2UnitFunction5_Ans">reload()メソッドに関する問題の解説</a></h2>
<h3><a name="reload" id="reload">問題1</a></h3>
<p><b>【解説】</b><br />
正しいメソッド定義は、引数がDataSet、戻り値がDataSetです。</p>
1は戻り値がvoidなので間違いです。<br />
2はDataTableに対応するDBのレコードを読み込み、DataTableを作成するメソッドなので間違いです。<br />
3は引数に指定がないので間違いです。<br />
<table border="0" cellspacing="3" cellpadding="3">
<tr>
<td><b><a href="testtechExercise.html#reload">&lt;&lt; 問題へ戻る</a></b></td>
</tr>
<tr>
<td><b><a href="testtechExercise.html#reload2">次の問題へ&gt;&gt;</a></b></td>
</tr>
</table>
<br />
<h3><a name="reload2" id="reload2">問題2</a></h3>
<p><b>【解説】</b><br />
S2Unit機能では、プライマリーキーの検索,設定は自動で行うため、とくに指定する項目はありません。</p>
<table border="0" cellspacing="3" cellpadding="3">
<tr>
<td><b><a href="testtechExercise.html#reload2">&lt;&lt; 問題へ戻る</a></b></td>
</tr>
<tr>
<td><b><a href="testtechExercise.html#S2UnitFunction6">次の問題へ&gt;&gt;</a></b></td>
</tr>
</table>
<br />
<h2><a name="S2UnitFunction6_Ans" id="S2UnitFunction6_Ans">readXlsWriteDb(),readXlsAllReplaceDb()メソッドに関する問題の解説</a></h2>
<h3><a name="readXlsWriteDb" id="readXlsWriteDb">問題1</a></h3>
<p><b>【解説】</b><br />
ExcelデータをDBに登録する場合は、以下のメソッドを使用します。</p>
- public void readXlsWriteDb(String path)<br />
<br />
1はDataSetの内容から、Excelファイルを作成するメソッドなので間違いです。<br />
3はDataSetをDBに登録するメソッドなので間違いです。<br />
4はS2TestCaseに存在しないメソッドなので間違いです。<br />
<table border="0" cellspacing="3" cellpadding="3">
<tr>
<td><b><a href="testtechExercise.html#readXlsWriteDb">&lt;&lt; 問題へ戻る</a></b></td>
</tr>
<tr>
<td><b><a href="testtechExercise.html#readXlsWriteDb2">次の問題へ&gt;&gt;</a></b></td>
</tr>
</table>
<br />
<h3><a name="readXlsWriteDb2" id="readXlsWriteDb2">問題2</a></h3>
<p><b>【解説】</b><br />
Excelデータとテストクラスが同一パス上に存在しないので、フルパスで指定する必要があります。</p>
1はフルパスで指定していないので間違いです。<br />
2は拡張子を指定していないので間違いです。<br />
3は検証用Excelのパスの指定が違っているので間違いです。<br />
<table border="0" cellspacing="3" cellpadding="3">
<tr>
<td><b><a href="testtechExercise.html#readXlsWriteDb2">&lt;&lt; 問題へ戻る</a></b></td>
</tr>
<tr>
<td><b><a href="testtechExercise.html#readXlsWriteDb3">次の問題へ&gt;&gt;</a></b></td>
</tr>
</table>
<h3><a name="readXlsWriteDb3" id="readXlsWriteDb3">問題3</a></h3>
<p><b>【解説】</b><br />
readXlsAllReplaceDb()メソッドを用いる場合、外部キー制約に違反しないように、 データのないシートを用意する必要があります。<br />
テーブルAのデータしか使わない場合でも、テーブルB用にシート名だけのシートを用意する必要があります。<br />
シートの定義順序は、テーブルA、テーブルBの順になります。</p>
1は外部キー制約に違反するので間違いです。<br />
3はシートAが定義されてないので間違いです。<br />
4はシートの定義順序が逆になっているので間違いです。<br />
<br />
<h2><a name="S2ExcelMake" id="S2ExcelMake">Excelファイルの作成に関する問題の解説</a></h2>
<h3><a name="ExcelMake" id="ExcelMake">問題1</a></h3>
<p><b>【解説】</b><br />
検証用のExcelファイルを作成する場合は、シート名にはテーブル名、シートの1行目にはカラム名を記述します。</p>
<table border="0" cellspacing="3" cellpadding="3">
<tr>
<td><b><a href="testtechExercise.html#ExcelMake">&lt;&lt; 問題へ戻る</a></b></td>
</tr>
<tr>
<td><b><a href="testtechExercise.html#SqlReader">次の問題へ&gt;&gt;</a></b></td>
</tr>
</table>
<br />
<h3><a name="SqlReader" id="SqlReader">問題2</a></h3>
<p><b>【解説】</b><br />
SQLのSELECT文を条件にしてテーブルのデータの内容をDataSetに読み込ませる場合は以下のメソッドを使用します。<br />
<br />
- public void addSql(String sql, String tableName)<br />
<br />
2のreadSql()メソッドはないので間違いです。<br />
3のaddTable()を使う場合は、テーブル名だけ指定して全件取得するか、テーブル名とSQL文のWHERE句の条件を指定して取得するので間違いです。<br />
4のread()は読み込んだDateSetを返すので間違いです。<br /></p>
<table border="0" cellspacing="3" cellpadding="3">
<tr>
<td><b><a href="testtechExercise.html#SqlReader">&lt;&lt; 問題へ戻る</a></b></td>
</tr>
<tr>
<td><b><a href="testtechExercise.html#XlsWriter">次の問題へ&gt;&gt;</a></b></td>
</tr>
</table>
<br />
<h3><a name="XlsWriter" id="XlsWriter">問題3</a></h3>
<p><b>【解説】</b><br />
org.seasar.extension.dataset.impl.XlsWriterクラスのコンストラクタで出力先のファイルパスを指定するのでコンストラクタ・インジェクションを使います。また同じ階層にExcelファイルがある場合は、パスを省略することが出来ます。<br />
<br />
1のようにメソッド・インジェクションを使ってもコンストラクタにセットすることはできないので間違いです。<br />
2はsetpath()というセッター・メソッドがないので間違いです。セッター・インジェクションを使ってコンストラクタにセットすることは出来ません。<br />
3のwirte()メソッドは、コンストラクタで指定されたパスのExcelファイルにデータを出力するメソッドなので間違いです。<br /></p>
<table border="0" cellspacing="3" cellpadding="3">
<tr>
<td><b><a href="testtechExercise.html#XlsWriter">&lt;&lt; 問題へ戻る</a></b></td>
</tr>
<tr>
<td><b><a href="testtechExercise.html#S2DaoTestCase">次の問題へ&gt;&gt;</a></b></td>
</tr>
</table>
<br />
<h2><a name="S2DaoTestCase" id="S2DaoTestCase">S2DaoTestCaseに関する問題の解説</a></h2>
<h3><a name="DaoTestCase" id="DaoTestCase">問題1</a></h3>
<p><b>【解説】</b><br />
S2DaoTestCaseでは、JUnitを拡張したS2TestCaseを継承しているので、S2DaoのSELECT文の結果(Bean or BeanList)以外もテストできます。</p>
<table border="0" cellspacing="3" cellpadding="3">
<tr>
<td><b><a href="testtechExercise.html#DaoTestCase">&lt;&lt; 問題へ戻る</a></b></td>
</tr>
<tr>
<td><b><a href="testtechExercise.html#DaoTestCase2">次の問題へ&gt;&gt;</a></b></td>
</tr>
</table>
<br />
<h3><a name="DaoTestCase2" id="DaoTestCase2">問題2</a></h3>
<p><b>【解説】</b><br />
S2DaoTestCaseでは、COLUMNアノテーションがあるBeanを比較する場合、COLUMNアノテーションがあるプロパティ名をカラム名として Excelファイルと比較するので、シートの1行目にはカラム名を記述します。</p>
<table border="0" cellspacing="3" cellpadding="3">
<tr>
<td><b><a href="testtechExercise.html#DaoTestCase2">&lt;&lt; 問題へ戻る</a></b></td>
</tr>
</table>
<br />
<!-- document end -->
<!-- don't edit start --></td>
<td width="14"><img height="14" width="14" src="images/spacer.gif" alt="" /></td>
</tr>
<tr>
<td width="14"><img height="30" width="14" src="images/spacer.gif" alt="" /></td>
<td width="766"><img height="30" width="592" src="images/spacer.gif" alt="" /></td>
</tr>
<tr>
<td width="14"><img height="14" width="14" src="images/spacer.gif" alt="" /></td>
<td width="766" class="copyright">Copyright© 2004-2005, The Seasar Foundation and the others. All rights reserved.</td>
</tr>
</table>
</td>
<td class="backright" align="left" valign="top">&nbsp;</td>
</tr>
<tr>
<td class="backunder" align="left" valign="top" width="780" height="16">&nbsp;</td>
<td class="backcorner" align="left" valign="top" height="16">&nbsp;</td>
</tr>
</table>
<!-- don't edit end -->
</body>
</html>
